# 📰 FeedFlow — Jetpack Compose 动态卡片流客户端

**FeedFlow** 是一个基于 **Jetpack Compose** 构建的现代化 Android Feed 流客户端 App。它完全由服务端驱动，支持动态卡片样式、混排布局、精准曝光追踪，并集成了本地缓存与视频播放模拟等进阶能力。


---

## ✨ 核心功能

- **服务端驱动内容**  
  所有卡片数据（类型、文本、图片 URL、排版方式等）均由服务端 JSON 下发，前端通过 `sealed class` + `@Composable` 动态渲染。
  
- **下拉刷新 & 无限加载**  
  使用 `pullRefresh` + `LazyColumn` 实现流畅的下拉刷新；通过监听滚动位置触发分页加载。

- **删卡操作**  
  长按任意卡片弹出 `AlertDialog` 确认删除，确认后从列表中移除并同步至本地缓存。

- **多卡片样式支持**  
  - 纯文本卡片
  - 图文卡片（左图右文 / 上图下文）
  - 视频卡片（倒计时模拟自动播放）

- **混排布局控制**  
  每张卡片可独立指定排版：`SINGLE_COLUMN` 或 `DOUBLE_COLUMN`，通过 `LazyVerticalGrid` 与 `LazyColumn` 动态切换实现。

- **精准卡片曝光事件**  
  基于 `LazyListState` + 可视区域计算，当卡片 ≥50% 进入屏幕时触发 `onExposure(cardId)` 回调，可用于埋点或懒加载资源。

---

## 🚀 进阶功能

### 🔁 本地数据缓存
- 使用 **Room** 持久化 Feed 数据
- 网络请求失败时自动回退到本地缓存，保障离线可用性
- 缓存策略：仅保留最近 N 页数据，避免存储膨胀

### ▶️ 视频卡片模拟播放
- 视频卡片进入可视区域 → 启动 10 秒倒计时（模拟“自动播放”）
- 卡片离开可视区域 → 暂停倒计时（模拟“停止播放”）
- 行为逻辑参考抖音搜索单列结果页

---

## 🧪 技术栈亮点

| 技术 | 用途 |
|------|------|
| **Jetpack Compose** | 声明式 UI，高效构建动态列表 |
| **suspend函数** | 挂起函数模拟网络请求 |
| **MVVM架构** | 分离业务逻辑与UI层 |
| **Kotlin Coroutines** | 使用协程处理异步操作，简化异步编程 |


   


